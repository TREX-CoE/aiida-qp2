<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting started &mdash; qp2 0.2.0 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/contentui.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/contentui.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within qp2 0.2.0 documentation"
          href="../_static/opensearch.xml"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="User guide" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> qp2
          </a>
              <div class="version">
                0.2
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">User guide</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#available-calculations">Available calculations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developer_guide/index.html">Developer guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apidoc/qp2.html">API documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">qp2</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">User guide</a> &raquo;</li>
      <li>Getting started</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<p>This page should contain a short guide on what the plugin does and
a short example on how to use the plugin.</p>
<section id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>Use the following commands to install the plugin:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">q</span><span class="o">-</span><span class="n">posev</span><span class="o">/</span><span class="n">aiida</span><span class="o">-</span><span class="n">qp2</span> <span class="o">.</span>
<span class="n">cd</span> <span class="n">aiida</span><span class="o">-</span><span class="n">qp2</span>
<span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">e</span> <span class="o">.</span>  <span class="c1"># also installs aiida, if missing (but not postgres)</span>
<span class="c1">#pip install -e .[pre-commit,testing] # install extras for more features</span>
<span class="n">verdi</span> <span class="n">quicksetup</span>  <span class="c1"># better to set up a new profile</span>
<span class="n">verdi</span> <span class="n">calculation</span> <span class="n">plugins</span>  <span class="c1"># should now show your calclulation plugins</span>
</pre></div>
</div>
<p>Then use <code class="docutils literal notranslate"><span class="pre">verdi</span> <span class="pre">code</span> <span class="pre">setup</span></code> with the <code class="docutils literal notranslate"><span class="pre">qp2</span></code> input plugin
to set up an AiiDA code for qp2.</p>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>A quick demo of how to submit a calculation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">verdi</span> <span class="n">daemon</span> <span class="n">start</span>         <span class="c1"># make sure the daemon is running</span>
<span class="n">cd</span> <span class="n">examples</span>
<span class="n">verdi</span> <span class="n">run</span> <span class="n">test_submit</span><span class="o">.</span><span class="n">py</span>        <span class="c1"># submit test calculation</span>
<span class="n">verdi</span> <span class="n">calculation</span> <span class="nb">list</span> <span class="o">-</span><span class="n">a</span>  <span class="c1"># check status of calculation</span>
</pre></div>
</div>
<p>If you have already set up your own qp2 code using
<code class="docutils literal notranslate"><span class="pre">verdi</span> <span class="pre">code</span> <span class="pre">setup</span></code>, you may want to try the following command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">qp2</span><span class="o">-</span><span class="n">submit</span>  <span class="c1"># uses qp2.cli</span>
</pre></div>
</div>
</section>
<section id="available-calculations">
<h2>Available calculations<a class="headerlink" href="#available-calculations" title="Permalink to this headline">¶</a></h2>
<dl>
<dt class="sig sig-object py">
<em class="property"><span class="pre">calcjob</span></em><span class="sig-prename descclassname"><span class="pre">qp2.calculations.</span></span><span class="sig-name descname"><span class="pre">QP2Calculation</span></span></dt>
<dd><p> AiiDA calculation plugin wrapping the Quantum Package code.
    </p>
<p><strong>Inputs:</strong><ul>
<li><strong>basissets</strong>, <em>Namespace</em> – A dictionary of basissets to be used in the calculations: key is the atomic symbol, value is either a single basisset.</li>
<li><strong>code</strong>, <em>Code</em>, optional – The <cite>Code</cite> to use for this job.</li>
<li><strong>metadata</strong>, <em>Namespace</em><details>
<summary>
Namespace Ports</summary><ul>
<li><strong>call_link_label</strong>, <em>str</em>, optional, <em>non_db</em> – The label to use for the <cite>CALL</cite> link if the process is called by another process.</li>
<li><strong>computer</strong>, <em>Computer</em>, optional, <em>non_db</em> – When using a “local” code, set the computer on which the calculation should be run.</li>
<li><strong>description</strong>, <em>str</em>, optional, <em>non_db</em> – Description to set on the process node.</li>
<li><strong>dry_run</strong>, <em>bool</em>, optional, <em>non_db</em> – When set to <cite>True</cite> will prepare the calculation job for submission but not actually launch it.</li>
<li><strong>label</strong>, <em>str</em>, optional, <em>non_db</em> – Label to set on the process node.</li>
<li><strong>options</strong>, <em>Namespace</em><details>
<summary>
Namespace Ports</summary><ul>
<li><strong>account</strong>, <em>str</em>, optional, <em>non_db</em> – Set the account to use in for the queue on the remote computer</li>
<li><strong>additional_retrieve_list</strong>, <em>(list, tuple)</em>, optional, <em>non_db</em> – List of relative file paths that should be retrieved in addition to what the plugin specifies.</li>
<li><strong>append_text</strong>, <em>str</em>, optional, <em>non_db</em> – Set the calculation-specific append text, which is going to be appended in the scheduler-job script, just after the code execution</li>
<li><strong>custom_scheduler_commands</strong>, <em>str</em>, optional, <em>non_db</em> – Set a (possibly multiline) string with the commands that the user wants to manually set for the scheduler. The difference of this option with respect to the <cite>prepend_text</cite> is the position in the scheduler submission file where such text is inserted: with this option, the string is inserted before any non-scheduler command</li>
<li><strong>environment_variables</strong>, <em>dict</em>, optional, <em>non_db</em> – Set a dictionary of custom environment variables for this calculation</li>
<li><strong>import_sys_environment</strong>, <em>bool</em>, optional, <em>non_db</em> – If set to true, the submission script will load the system environment variables</li>
<li><strong>input_filename</strong>, <em>str</em>, optional, <em>non_db</em> – Filename to which the input for the code that is to be run is written.</li>
<li><strong>max_memory_kb</strong>, <em>int</em>, optional, <em>non_db</em> – Set the maximum memory (in KiloBytes) to be asked to the scheduler</li>
<li><strong>max_wallclock_seconds</strong>, <em>int</em>, optional, <em>non_db</em> – Set the wallclock in seconds asked to the scheduler</li>
<li><strong>mpirun_extra_params</strong>, <em>(list, tuple)</em>, optional, <em>non_db</em> – Set the extra params to pass to the mpirun (or equivalent) command after the one provided in computer.mpirun_command. Example: mpirun -np 8 extra_params[0] extra_params[1] … exec.x</li>
<li><strong>output_filename</strong>, <em>str</em>, optional, <em>non_db</em></li>
<li><strong>output_wf_basename</strong>, <em>str</em>, optional, <em>non_db</em> – Base name of the output wavefunction file (without .tar.gz or .h5).</li>
<li><strong>parser_name</strong>, <em>str</em>, optional, <em>non_db</em> – Set a string for the output parser. Can be None if no output plugin is available or needed</li>
<li><strong>prepend_text</strong>, <em>str</em>, optional, <em>non_db</em> – Set the calculation-specific prepend text, which is going to be prepended in the scheduler-job script, just before the code execution</li>
<li><strong>priority</strong>, <em>str</em>, optional, <em>non_db</em> – Set the priority of the job to be queued</li>
<li><strong>qos</strong>, <em>str</em>, optional, <em>non_db</em> – Set the quality of service to use in for the queue on the remote computer</li>
<li><strong>queue_name</strong>, <em>str</em>, optional, <em>non_db</em> – Set the name of the queue on the remote computer</li>
<li><strong>resources</strong>, <em>dict</em>, required, <em>non_db</em> – Set the dictionary of resources to be used by the scheduler plugin, like the number of nodes, cpus etc. This dictionary is scheduler-plugin dependent. Look at the documentation of the scheduler for more details.</li>
<li><strong>scheduler_stderr</strong>, <em>str</em>, optional, <em>non_db</em> – Filename to which the content of stderr of the scheduler is written.</li>
<li><strong>scheduler_stdout</strong>, <em>str</em>, optional, <em>non_db</em> – Filename to which the content of stdout of the scheduler is written.</li>
<li><strong>stash</strong>, <em>Namespace</em> – Optional directives to stash files after the calculation job has completed.<details>
<summary>
Namespace Ports</summary><ul>
<li><strong>source_list</strong>, <em>(tuple, list)</em>, optional, <em>non_db</em> – Sequence of relative filepaths representing files in the remote directory that should be stashed.</li>
<li><strong>stash_mode</strong>, <em>str</em>, optional, <em>non_db</em> – Mode with which to perform the stashing, should be value of <a href="#id1"><span class="problematic" id="id2">`</span></a>aiida.common.datastructures.StashMode.</li>
<li><strong>target_base</strong>, <em>str</em>, optional, <em>non_db</em> – The base location to where the files should be stashd. For example, for the <cite>copy</cite> stash mode, this should be an absolute filepath on the remote computer.</li>
</ul>
</details></li>
<li><strong>submit_script_filename</strong>, <em>str</em>, optional, <em>non_db</em> – Filename to which the job submission script is written.</li>
<li><strong>withmpi</strong>, <em>bool</em>, optional, <em>non_db</em></li>
</ul>
</details></li>
<li><strong>store_provenance</strong>, <em>bool</em>, optional, <em>non_db</em> – If set to <cite>False</cite> provenance will not be stored in the database.</li>
</ul>
</details></li>
<li><strong>parameters</strong>, <em>Dict</em>, required – Input parameters to generate the input file.</li>
<li><strong>pseudos</strong>, <em>Namespace</em> – A dictionary of pseudopotentials to be used in the calculations: key is the atomic symbol, value is a single pseudopotential.</li>
<li><strong>settings</strong>, <em>Dict</em>, optional – Additional input parameters.</li>
<li><strong>structure</strong>, <em>StructureData</em>, optional – Input structrure</li>
<li><strong>wavefunction</strong>, <em>SinglefileData</em>, optional – The wavefunction file (EZFIO or TREXIO).</li>
</ul>
</p>
<p><strong>Outputs:</strong><ul>
<li><strong>output_energy</strong>, <em>Float</em>, optional – The result of the calculation</li>
<li><strong>output_wavefunction</strong>, <em>SinglefileData</em>, required – The wave function file (EZFIO or TREXIO)</li>
<li><strong>remote_folder</strong>, <em>RemoteData</em>, required – Input files necessary to run the process will be stored in this folder node.</li>
<li><strong>remote_stash</strong>, <em>RemoteStashData</em>, optional – Contents of the <cite>stash.source_list</cite> option are stored in this remote folder after job completion.</li>
<li><strong>retrieved</strong>, <em>FolderData</em>, required – Files that are retrieved by the daemon will be stored in this node. By default the stdout and stderr of the scheduler will be added, but one can add more by specifying them in <cite>CalcInfo.retrieve_list</cite>.</li>
</ul>
</p>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="User guide" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial.html" class="btn btn-neutral float-right" title="Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2022, TREX-CoE. All rights reserved.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>